version: "3"

services: 
#     nginx: 
#         image: "nginx:latest"
#         network_mode: bridge
#         container_name: "nginx"
#         ports:
#             - "8888:80"
#         volumes: 
#             - ./SimpleServer/site:/usr/share/nginx/html
    selenoid:
        container_name: "selenoid"
        image: "aerokube/selenoid:latest-release"
        network_mode: bridge
        ports:
            - "4444:4444"
        volumes:
            - "./selenoid/config:/etc/selenoid/:ro" # assumed current dir contains browsers.json
            - "//var/run/docker.sock:/var/run/docker.sock"
            #- "/d/DockerProject/selenoid/video:/opt/selenoid/video/"
        environment: 
            - "enableVNC=true"
    selenoid-ui:
        image: "aerokube/selenoid-ui"
        network_mode: bridge
        links:
            - selenoid
        ports:
            - "8080:8080"
        command: ["--selenoid-uri", "http://selenoid:4444"]
#    ggr:
#        container_name: "ggr"
#        image: "aerokube/ggr:latest-release"
#        network_mode: "bridge"
#        links: 
#            - selenoid
#        ports: 
#            - "4445:4444"
#        volumes: 
#            - "./ggr/config:/etc/grid-router:ro"